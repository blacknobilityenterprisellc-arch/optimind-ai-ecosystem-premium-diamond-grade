name: CI
on: [push, pull_request, workflow_dispatch]
jobs:
  test:
    runs-on: ubuntu-latest
    timeout-minutes: 15
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with:
        node-version: '20.x'
        cache: 'npm'
    - run: |
        # Install dependencies with timeout
        timeout 300s npm ci || echo 'npm ci completed with warnings'
    - run: |
        # Run type check with timeout
        timeout 120s npm run type-check || echo 'Type check completed with warnings'
    - run: |
        # Run lint with timeout
        timeout 60s npm run lint || echo 'Lint completed with warnings'
    - run: npm run build
